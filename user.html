<!DOCTYPE html>
<html>
  <head>
    <title>Người dùng</title>
  </head>
  <body>
    <h1>Xem video</h1>
    <video id="videoPlayer" width="640" height="360" controls></video>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAXUcgQ2Si4tRs4Ti9GF29ND6xA4NR-uig",
        authDomain: "test-iptv-faa05.firebaseapp.com",
        projectId: "test-iptv-faa05",
        storageBucket: "test-iptv-faa05.firebasestorage.app",
        messagingSenderId: "686255418018",
        appId: "1:686255418018:web:a02927ac1d82acad7305fb",
        measurementId: "G-X4L1L3YLD2",
      };

      const app = firebase.initializeApp(firebaseConfig);
      const storage = firebase.storage();

      // Lấy URL video và phát
      const videoRef = storage.ref("videos/");
      videoRef
        .listAll()
        .then((result) => {
          result.items[0].getDownloadURL().then((url) => {
            document.getElementById("videoPlayer").src = url;
          });
        })
        .catch((error) => {
          console.error("Lỗi tải video:", error);
        });
    </script>
  </body>
</html>
